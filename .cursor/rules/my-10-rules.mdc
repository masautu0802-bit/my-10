---
alwaysApply: true
---

# my-10 プロジェクトルール

## 1. 作業効率の判断と実行方法の選択

新しい作業を開始する際は、以下の基準に基づいて**ユーザー手作業**と**Cursor自動実行**の効率を比較し、最適な方法を選択する。

### Cursorで実行すべき作業
- **コーディング作業**：ファイル作成・編集・削除、コード実装
- **リファクタリング**：コードの整理、構造改善
- **バグ修正**：エラー修正、デバッグ
- **テストコード作成**：ユニットテスト、統合テスト
- **設定ファイル編集**：package.json、設定ファイルの更新
- **ドキュメント生成**：コードからドキュメント生成（明示的に要求された場合のみ）

### ユーザー手作業が適切な作業
- **環境設定**：Supabase、Turso、Vercelなどの外部サービス設定
- **APIキー・認証情報の設定**：.envファイルへの機密情報の追加（テンプレートはCursorで作成可）
- **デプロイ作業**：Vercelへのデプロイ実行
- **データベーススキーマの直接操作**：Tursoのマイグレーション実行（SQLファイルはCursorで作成可）
- **デザイン判断**：UI/UXの最終的な判断や選択
- **ビジネスロジックの決定**：機能の優先順位、要件の最終決定

### 判断が難しい場合
- 作業の複雑さ、時間、リスクを評価
- ユーザーに確認を取るか、効率的な方法を提案する

## 2. ドキュメントベースの実装ガイドライン

### 必須参照ドキュメント
コーディング作業を行う際は、以下のドキュメントを必ずコンテキストとして維持する：
- `Docs/requirement.md`：プロジェクトの要件定義書
- `Docs/progress.md`：プロジェクトの進捗管理表

### 実装時の原則
1. **要件定義との整合性確認**
   - 実装前に`Docs/requirement.md`の該当箇所を確認
   - 機能要件（F1-F8）の優先度（MUST/SHOULD/COULD）を遵守
   - 技術要件（React + Next.js、Supabase Auth、Turso、Vercel、Tailwind CSS）に準拠
   - 非機能要件（モバイル最適化、レスポンス性能、セキュリティ）を考慮

2. **矛盾の検出と対応**
   - ユーザーの指示が`Docs/requirement.md`と矛盾する場合：
     - 矛盾点を明確に指摘
     - 影響範囲を説明
     - 以下の選択肢を提示：
       a) 要件定義書を更新してから実装
       b) 実装を進めるが、後で要件定義書を更新
       c) 実装を保留し、要件を再検討
   - ユーザーに確認を取ってから実装を進める

3. **ドキュメントの更新**
   - 要件定義書に変更が生じた場合は、実装と同時にドキュメントも更新
   - ドキュメントの整合性を常に維持

4. **進捗管理表の更新**
   - 実装に区切りがついた段階（機能実装完了、バグ修正完了、リファクタリング完了など）で`Docs/progress.md`を更新
   - 更新内容：
     - 該当機能のステータスを更新（未着手→実装中→完了）
     - 実装日を記録
     - 実装履歴セクションに作業内容を追記
     - 必要に応じて備考欄に追加情報を記載
   - 更新タイミング：
     - 機能の実装が完了した時点
     - バグ修正が完了した時点
     - リファクタリングが完了した時点
     - 技術要件のセットアップが完了した時点

## 3. プロジェクト固有の技術スタック

### 使用技術（要件定義より）
- **フロントエンド**：React + Next.js 16.1.6
- **認証**：Supabase Auth
- **データベース**：Turso
- **ホスティング**：Vercel
- **UI**：Tailwind CSS 4

### コーディング規約
- TypeScriptを使用（型安全性を重視）
- モバイルファーストのレスポンシブデザイン
- セキュリティベストプラクティスに準拠
- パフォーマンス最適化を意識（主要ページは2-3秒以内）

## 4. 作業フロー

1. **作業開始時**
   - ユーザーの要求を理解
   - 効率比較を行い、実行方法を決定
   - 必要に応じて`Docs/requirement.md`を参照

2. **実装前**
   - 要件定義との整合性を確認
   - 矛盾があれば指摘し、確認を取る

3. **実装中**
   - 要件定義に準拠した実装
   - コード品質を維持

4. **実装後**
   - 必要に応じてドキュメントを更新
   - **進捗管理表（`Docs/progress.md`）を更新**
     - 実装完了した機能のステータスを更新
     - 実装履歴に作業内容を追記
   - 整合性を再確認

