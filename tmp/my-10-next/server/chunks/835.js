exports.id=835,exports.ids=[835],exports.modules={10730:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81921,23))},18041:(a,b,c)=>{"use strict";c.d(b,{U:()=>f});var d=c(71380),e=c(36042);async function f(){let a=await (0,e.UL)();return(0,d.createServerClient)("https://xrlnbwrmascukxmwnqge.supabase.co","sb_publishable_aLlzFBj3cKzMd1WUl8ccKg_lw5naU8P",{cookies:{getAll:()=>a.getAll(),setAll(b){try{b.forEach(({name:b,value:c,options:d})=>a.set(b,c,d))}catch{}}}})}},19420:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,95547,23)),Promise.resolve().then(c.t.bind(c,15098,23)),Promise.resolve().then(c.t.bind(c,47644,23)),Promise.resolve().then(c.t.bind(c,33859,23)),Promise.resolve().then(c.t.bind(c,98099,23)),Promise.resolve().then(c.t.bind(c,16237,23)),Promise.resolve().then(c.t.bind(c,98562,23)),Promise.resolve().then(c.t.bind(c,36675,23))},32056:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>l,metadata:()=>k});var d=c(5735),e=c(83197),f=c.n(e),g=c(86494),h=c.n(g),i=c(44470),j=c.n(i);c(82704);let k={title:"マイ10 - My10",description:"なんか欲しいけど何が欲しいかわからないモヤモヤを解消する、キュレーション型Webサービス"};function l({children:a}){return(0,d.jsxs)("html",{lang:"ja",children:[(0,d.jsx)("head",{children:(0,d.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap",rel:"stylesheet"})}),(0,d.jsx)("body",{className:`${f().variable} ${h().variable} ${j().variable} antialiased`,children:a})]})}},46055:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(88868);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+"?603d046c9a6fdfbb"}]},49575:(a,b,c)=>{"use strict";c.d(b,{A1:()=>m,AC:()=>n,F4:()=>j,dG:()=>l,oG:()=>i,r7:()=>k,yE:()=>h});var d=c(95349),e=c(42650),f=c(18041),g=c(78588);async function h(a){let b=await (0,g.oC)(),c=await (0,f.U)(),{data:d}=await c.from("shop_follows").select("user_id").eq("user_id",b.id).eq("shop_id",a).single();d?await c.from("shop_follows").delete().eq("user_id",b.id).eq("shop_id",a):await c.from("shop_follows").insert({user_id:b.id,shop_id:a}),(0,e.revalidatePath)(`/shops/${a}`),(0,e.revalidatePath)("/my"),(0,e.revalidatePath)("/")}async function i(a){let b=await (0,g.oC)(),c=await (0,f.U)(),{data:d}=await c.from("item_favorites").select("user_id").eq("user_id",b.id).eq("item_id",a).single();d?await c.from("item_favorites").delete().eq("user_id",b.id).eq("item_id",a):await c.from("item_favorites").insert({user_id:b.id,item_id:a}),(0,e.revalidatePath)(`/items/${a}`),(0,e.revalidatePath)("/my")}async function j(a){let b=await (0,g.oC)(),c=await (0,f.U)(),d=a.name.split(".").pop(),e=`${b.id}-${Date.now()}.${d}`,h=`${e}`,{error:i}=await c.storage.from("avatars").upload(h,a,{cacheControl:"3600",upsert:!0});if(i)return{error:i.message};let{data:{publicUrl:j}}=c.storage.from("avatars").getPublicUrl(h);return{url:j}}async function k(a){let b=await (0,g.oC)(),c=await (0,f.U)(),d={name:a.name};void 0!==a.bio&&(d.bio=a.bio||null),void 0!==a.avatar_url&&(d.avatar_url=a.avatar_url);let{error:h}=await c.from("users").update(d).eq("id",b.id);return h?{error:h.message}:((0,e.revalidatePath)("/my"),(0,e.revalidatePath)("/my/profile"),(0,e.revalidatePath)(`/users/${b.id}`),{})}async function l(a){let b=await (0,g.oC)(),c=await (0,f.U)();if(a.tags&&a.tags.length>3)return{error:"タグは最大3つまでです"};let{data:d,error:h}=await c.from("shops").insert({name:a.name,theme:a.theme,description:a.description,tags:a.tags,owner_id:b.id,font_family:a.font_family,color_theme:a.color_theme}).select("id").single();return h?{error:h.message}:((0,e.revalidatePath)("/shop"),(0,e.revalidatePath)("/my"),(0,e.revalidatePath)("/"),{shopId:d.id})}async function m(a,b){let c=await (0,g.oC)(),d=await (0,f.U)(),{data:h}=await d.from("shops").select("owner_id").eq("id",a).single();if(!h||h.owner_id!==c.id)return{error:"このショップを編集する権限がありません"};if(b.tags&&b.tags.length>3)return{error:"タグは最大3つまでです"};let{error:i}=await d.from("shops").update({name:b.name,description:b.description||null,tags:b.tags||null,updated_at:new Date().toISOString()}).eq("id",a);return i?{error:i.message}:((0,e.revalidatePath)(`/cms/shops/${a}`),(0,e.revalidatePath)(`/shops/${a}`),(0,e.revalidatePath)("/shop"),(0,e.revalidatePath)("/my"),(0,e.revalidatePath)("/"),{success:!0})}async function n(a){let b=await (0,g.oC)(),c=await (0,f.U)(),{data:d}=await c.from("shops").select("owner_id").eq("id",a).single();if(!d||d.owner_id!==b.id)return{error:"このショップを削除する権限がありません"};let{data:h}=await c.from("items").select("id").eq("shop_id",a),i=h?.map(a=>a.id)||[];i.length>0&&await c.from("item_favorites").delete().in("item_id",i),await c.from("items").delete().eq("shop_id",a),await c.from("shop_follows").delete().eq("shop_id",a);let{error:j}=await c.from("shops").delete().eq("id",a);return j?{error:j.message}:((0,e.revalidatePath)("/shop"),(0,e.revalidatePath)("/my"),(0,e.revalidatePath)("/"),{success:!0})}(0,c(89337).D)([h,i,j,k,l,m,n]),(0,d.A)(h,"4032a21f57ce81fa239a660592558a8c7509776481",null),(0,d.A)(i,"40e5b03bdc17a5bdc4f7bd1441e20aa601ff641155",null),(0,d.A)(j,"40210e35917bab0f452552d37436c046d92d011492",null),(0,d.A)(k,"4014f758bb23107d414ba494e10e3f78fcd53a57c7",null),(0,d.A)(l,"40c07284c11df3e25e5bb0cf9adca785be6d20c58b",null),(0,d.A)(m,"60f0f6bebb6d394486ed6ce0d78183d1d529ab4200",null),(0,d.A)(n,"4058414c15e9973b0149b6b9028404986d02245894",null)},58259:(a,b,c)=>{"use strict";c.d(b,{HW:()=>f,IV:()=>h,sh:()=>g});var d=c(84744),e=c(91986);let f=(0,e.cache)(async()=>{let a=await (0,d.U)(),{data:{user:b}}=await a.auth.getUser();return b}),g=(0,e.cache)(async()=>{let a=await f();if(!a)return null;let b=await (0,d.U)(),{data:c}=await b.from("users").select("*").eq("id",a.id).single();return c});async function h(a){let b=await f();if(!b)return!1;let c=await (0,d.U)(),{data:e}=await c.from("shops").select("owner_id").eq("id",a).single();return e?.owner_id===b.id}},61212:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81921,23)),Promise.resolve().then(c.t.bind(c,60440,23)),Promise.resolve().then(c.t.bind(c,84342,23)),Promise.resolve().then(c.t.bind(c,82265,23)),Promise.resolve().then(c.t.bind(c,35421,23)),Promise.resolve().then(c.t.bind(c,61335,23)),Promise.resolve().then(c.t.bind(c,70664,23)),Promise.resolve().then(c.bind(c,74661))},78335:()=>{},78588:(a,b,c)=>{"use strict";c.d(b,{oC:()=>g});var d=c(18041),e=c(44863);let f=(0,e.cache)(async()=>{let a=await (0,d.U)(),{data:{user:b}}=await a.auth.getUser();return b});async function g(){let a=await f();if(!a)throw Error("認証が必要です");return a}(0,e.cache)(async()=>{let a=await f();if(!a)return null;let b=await (0,d.U)(),{data:c}=await b.from("users").select("*").eq("id",a.id).single();return c})},80968:()=>{},82704:()=>{},84276:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(5735);function e(){return(0,d.jsx)("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden max-w-md mx-auto bg-[#E5E7EB] shadow-2xl",children:(0,d.jsxs)("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden bg-bgwarm",children:[(0,d.jsxs)("header",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur-lg px-6 py-5 border-b border-sage/10 flex items-center justify-between shadow-sm",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center gap-1.5 text-[10px] uppercase tracking-[0.2em] font-black mb-1 text-sage/60",children:[(0,d.jsx)("span",{className:"material-symbols-outlined text-[10px]",children:"location_on"}),(0,d.jsx)("span",{children:"Your Shopping Street"})]}),(0,d.jsxs)("h1",{className:"text-2xl font-serif font-bold tracking-tight flex items-center gap-3 text-[#2a2a2a]",children:["My10",(0,d.jsx)("span",{className:"h-1 w-8 rounded-full bg-coral/30 mt-1"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"p-3 rounded-2xl bg-gray-50 border border-gray-100",children:(0,d.jsx)("span",{className:"material-symbols-outlined text-[20px] text-[#2a2a2a]",children:"search"})}),(0,d.jsx)("div",{className:"p-3 rounded-2xl bg-gray-50 border border-gray-100",children:(0,d.jsx)("span",{className:"material-symbols-outlined text-[20px] text-[#2a2a2a]",children:"notifications"})})]})]}),(0,d.jsxs)("main",{className:"flex-1 pb-28",children:[(0,d.jsx)("div",{className:"px-4 py-6",children:(0,d.jsx)("div",{className:"flex gap-3 overflow-hidden",children:Array.from({length:4}).map((a,b)=>(0,d.jsx)("div",{className:"flex-shrink-0 w-20 h-24 rounded-2xl bg-sage/10 animate-pulse"},b))})}),(0,d.jsx)("div",{className:"px-4 space-y-4",children:Array.from({length:3}).map((a,b)=>(0,d.jsxs)("div",{className:"bg-white rounded-3xl p-4 shadow-sm",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)("div",{className:"size-10 rounded-full bg-sage/15 animate-pulse"}),(0,d.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,d.jsx)("div",{className:"h-4 w-28 rounded-full bg-sage/15 animate-pulse"}),(0,d.jsx)("div",{className:"h-3 w-20 rounded-full bg-sage/10 animate-pulse"})]})]}),(0,d.jsx)("div",{className:"grid grid-cols-3 gap-2",children:Array.from({length:3}).map((a,b)=>(0,d.jsx)("div",{className:"aspect-square rounded-2xl bg-sage/10 animate-pulse"},b))})]},b))})]})]})})}},84744:(a,b,c)=>{"use strict";c.d(b,{U:()=>f});var d=c(49980),e=c(65573);async function f(){let a=await (0,e.UL)();return(0,d.createServerClient)("https://xrlnbwrmascukxmwnqge.supabase.co","sb_publishable_aLlzFBj3cKzMd1WUl8ccKg_lw5naU8P",{cookies:{getAll:()=>a.getAll(),setAll(b){try{b.forEach(({name:b,value:c,options:d})=>a.set(b,c,d))}catch{}}}})}},92578:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,95547,23))},94120:()=>{},96487:()=>{}};