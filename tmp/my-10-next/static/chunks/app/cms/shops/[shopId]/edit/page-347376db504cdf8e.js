(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33],{1995:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var a=s(5155),r=s(8500),l=s.n(r),n=s(3321);let o=[{href:"/",icon:"home",iconFilled:"home",label:"ホーム"},{href:"/search",icon:"search",label:"さがす"},{href:"/shop",icon:"storefront",label:"ショップ"},{href:"/my/keep",icon:"bookmark",iconFilled:"bookmark",label:"キープ"},{href:"/my",icon:"person",iconFilled:"person",label:"マイページ"}];function i(){let e=(0,n.usePathname)();return(0,a.jsxs)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-bgwarm border-t border-sage/10 pt-2 px-2 max-w-md mx-auto rounded-t-[2rem] shadow-[0_-5px_20px_rgba(162,178,159,0.08)]",children:[(0,a.jsx)("div",{className:"flex justify-around items-center h-16",children:o.map(t=>{let s="/my"===t.href?"/my"===e||e.startsWith("/my")&&!e.startsWith("/my/keep"):e===t.href||"/"!==t.href&&e.startsWith(t.href);return(0,a.jsxs)(l(),{href:t.href,className:`flex flex-col items-center justify-center gap-1 w-16 transition-colors group ${s?"text-sage":"text-gray-400 hover:text-sage"}`,children:[s&&(0,a.jsx)("span",{className:"absolute -top-0 w-8 h-1 bg-sage rounded-full"}),(0,a.jsx)("span",{className:"material-symbols-outlined text-[24px]",style:s?{fontVariationSettings:"'FILL' 1"}:void 0,children:t.icon}),(0,a.jsx)("span",{className:"text-[10px] font-medium",children:t.label})]},t.label)})}),(0,a.jsx)("div",{className:"h-[env(safe-area-inset-bottom)]"})]})}},3321:(e,t,s)=>{"use strict";var a=s(4645);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},3428:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var a=s(5155),r=s(3321);function l({className:e="",iconSize:t=20,icon:s="arrow_back_ios_new",style:l,iconStyle:n}){let o=(0,r.useRouter)();return(0,a.jsx)("button",{onClick:()=>o.back(),className:e||"flex size-10 items-center justify-center rounded-full bg-white shadow-sm hover:scale-105 transition-transform text-text-main border border-sage/50",style:l,"aria-label":"戻る",children:(0,a.jsx)("span",{className:"material-symbols-outlined",style:{fontSize:t,...n},children:s})})}},5997:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var a=s(5155),r=s(2115),l=s(3321),n=s(9339);let o=(0,n.createServerReference)("60f0f6bebb6d394486ed6ce0d78183d1d529ab4200",n.callServer,void 0,n.findSourceMapURL,"updateShop");function i({shop:e}){let[t,s]=(0,r.useState)(e.name),[n,i]=(0,r.useState)(e.description||""),[d,c]=(0,r.useState)(e.tags||[]),[x,u]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[f,p]=(0,r.useTransition)(),b=(0,l.useRouter)(),g=()=>{let e=x.trim();if(e){if(d.length>=3)return void h("タグは最大3つまでです");if(d.includes(e))return void h("同じタグは追加できません");c([...d,e]),u(""),h("")}};return(0,a.jsxs)("form",{onSubmit:s=>{(s.preventDefault(),t.trim())?(h(""),p(async()=>{let s=await o(e.id,{name:t.trim(),description:n.trim()||void 0,tags:d.length>0?d:void 0});s.error?h(s.error):b.push(`/cms/shops/${e.id}`)})):h("ショップ名を入力してください")},className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("label",{className:"text-[11px] font-bold text-text-muted ml-2 uppercase tracking-wider",children:["ショップ名 ",(0,a.jsx)("span",{className:"text-coral",children:"*"})]}),(0,a.jsx)("input",{className:"w-full bg-white border-2 border-sage rounded-2xl px-5 py-4 text-base font-semibold focus:outline-none focus:border-text-main focus:ring-0 transition-all placeholder:text-slate-300 text-text-main shadow-sm hover:border-text-main/50",type:"text",value:t,onChange:e=>s(e.target.value),placeholder:"例: My Little Shop"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("label",{className:"text-[11px] font-bold text-text-muted ml-2 uppercase tracking-wider",children:"説明文"}),(0,a.jsx)("textarea",{className:"w-full bg-white border-2 border-sage rounded-2xl px-5 py-4 text-base font-semibold focus:outline-none focus:border-text-main focus:ring-0 transition-all placeholder:text-slate-300 text-text-main shadow-sm hover:border-text-main/50 resize-none",rows:3,value:n,onChange:e=>i(e.target.value),placeholder:"ショップの紹介文を入力（任意）"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("label",{className:"text-[11px] font-bold text-text-muted ml-2 uppercase tracking-wider",children:"タグ（最大3つ）"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{className:"flex-1 bg-white border-2 border-sage rounded-2xl px-5 py-3 text-base font-semibold focus:outline-none focus:border-text-main focus:ring-0 transition-all placeholder:text-slate-300 text-text-main shadow-sm hover:border-text-main/50",type:"text",value:x,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),g())},placeholder:"例: ファッション",disabled:d.length>=3}),(0,a.jsx)("button",{type:"button",onClick:g,disabled:d.length>=3||!x.trim(),className:"px-5 py-3 bg-sage text-white font-bold rounded-2xl hover:bg-sage/90 transition-all disabled:opacity-40 disabled:cursor-not-allowed shadow-sm",children:"追加"})]}),d.length>0&&(0,a.jsx)("div",{className:"flex gap-2 flex-wrap mt-2",children:d.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-sage/10 text-text-main border border-sage/30 text-sm font-medium",children:[(0,a.jsxs)("span",{children:["#",e]}),(0,a.jsx)("button",{type:"button",onClick:()=>{c(d.filter((e,s)=>s!==t))},className:"text-text-muted hover:text-coral transition-colors",children:(0,a.jsx)("span",{className:"material-symbols-outlined text-[16px]",children:"close"})})]},t))})]}),m&&(0,a.jsx)("p",{className:"text-coral text-sm font-medium text-center",children:m}),(0,a.jsx)("div",{className:"mt-2 pb-4",children:(0,a.jsx)("button",{type:"submit",disabled:f,className:"w-full bg-text-main hover:bg-text-main/90 text-white font-extrabold text-lg py-4 rounded-2xl shadow-lg shadow-text-main/20 transition-all active:scale-[0.98] active:shadow-none flex items-center justify-center gap-2 disabled:opacity-60",children:f?(0,a.jsx)("span",{className:"material-symbols-outlined animate-spin text-[20px]",children:"progress_activity"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-[20px]",children:"save"}),(0,a.jsx)("span",{children:"保存する"})]})})})]})}},7812:(e,t,s)=>{Promise.resolve().then(s.bind(s,5997)),Promise.resolve().then(s.bind(s,3428)),Promise.resolve().then(s.bind(s,1995))},9339:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={callServer:function(){return l.callServer},createServerReference:function(){return o.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}};for(var r in a)Object.defineProperty(t,r,{enumerable:!0,get:a[r]});let l=s(7304),n=s(4060),o=s(7197)}},e=>{e.O(0,[500,441,794,358],()=>e(e.s=7812)),_N_E=e.O()}]);