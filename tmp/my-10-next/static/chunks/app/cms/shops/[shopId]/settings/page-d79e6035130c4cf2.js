(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[168],{850:(e,a,r)=>{Promise.resolve().then(r.bind(r,4553)),Promise.resolve().then(r.bind(r,3428)),Promise.resolve().then(r.bind(r,1995))},1995:(e,a,r)=>{"use strict";r.d(a,{default:()=>i});var t=r(5155),s=r(8500),l=r.n(s),n=r(3321);let o=[{href:"/",icon:"home",iconFilled:"home",label:"ホーム"},{href:"/search",icon:"search",label:"さがす"},{href:"/shop",icon:"storefront",label:"ショップ"},{href:"/my/keep",icon:"bookmark",iconFilled:"bookmark",label:"キープ"},{href:"/my",icon:"person",iconFilled:"person",label:"マイページ"}];function i(){let e=(0,n.usePathname)();return(0,t.jsxs)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-bgwarm border-t border-sage/10 pt-2 px-2 max-w-md mx-auto rounded-t-[2rem] shadow-[0_-5px_20px_rgba(162,178,159,0.08)]",children:[(0,t.jsx)("div",{className:"flex justify-around items-center h-16",children:o.map(a=>{let r="/my"===a.href?"/my"===e||e.startsWith("/my")&&!e.startsWith("/my/keep"):e===a.href||"/"!==a.href&&e.startsWith(a.href);return(0,t.jsxs)(l(),{href:a.href,className:`flex flex-col items-center justify-center gap-1 w-16 transition-colors group ${r?"text-sage":"text-gray-400 hover:text-sage"}`,children:[r&&(0,t.jsx)("span",{className:"absolute -top-0 w-8 h-1 bg-sage rounded-full"}),(0,t.jsx)("span",{className:"material-symbols-outlined text-[24px]",style:r?{fontVariationSettings:"'FILL' 1"}:void 0,children:a.icon}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:a.label})]},a.label)})}),(0,t.jsx)("div",{className:"h-[env(safe-area-inset-bottom)]"})]})}},3321:(e,a,r)=>{"use strict";var t=r(4645);r.o(t,"usePathname")&&r.d(a,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(a,{useRouter:function(){return t.useRouter}})},3428:(e,a,r)=>{"use strict";r.d(a,{default:()=>l});var t=r(5155),s=r(3321);function l({className:e="",iconSize:a=20,icon:r="arrow_back_ios_new",style:l,iconStyle:n}){let o=(0,s.useRouter)();return(0,t.jsx)("button",{onClick:()=>o.back(),className:e||"flex size-10 items-center justify-center rounded-full bg-white shadow-sm hover:scale-105 transition-transform text-text-main border border-sage/50",style:l,"aria-label":"戻る",children:(0,t.jsx)("span",{className:"material-symbols-outlined",style:{fontSize:a,...n},children:r})})}},4553:(e,a,r)=>{"use strict";r.d(a,{default:()=>i});var t=r(5155),s=r(2115),l=r(3321),n=r(9840);function o(e){return{name:e.name,label:e.label,primary:e.primary_color,secondary:e.secondary_color,tertiary:e.tertiary_color,quaternary:e.quaternary_color,isDark:e.is_dark||!1}}function i({shop:e,colorThemes:a}){let r=(0,l.useRouter)(),[i,c]=(0,s.useTransition)(),m=a.map(o),d=(0,n.wT)(e.color_theme),y=e.font_family||"Noto Sans JP",u=d?m.find(e=>e.primary===d.primary&&e.secondary===d.secondary)??m[0]:m[0],[h,b]=(0,s.useState)(y),[p,x]=(0,s.useState)(u),g=async a=>{a.preventDefault(),c(async()=>{(await fetch(`/api/shops/${e.id}/settings`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({font_family:h,color_theme:{primary:p.primary,secondary:p.secondary,tertiary:p.tertiary,quaternary:p.quaternary,isDark:p.isDark||!1}})})).ok&&(r.refresh(),r.push(`/shops/${e.id}`))})};return(0,t.jsxs)("form",{onSubmit:g,className:"space-y-8",children:[(0,t.jsxs)("section",{className:"bg-surface rounded-2xl p-6 border border-border-light shadow-sm",children:[(0,t.jsxs)("h2",{className:"text-text-main text-lg font-bold mb-1 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"material-symbols-outlined text-sage",children:"font_download"}),"フォント選択"]}),(0,t.jsx)("p",{className:"text-text-main/70 text-sm mb-4",children:"ショップ名の表示フォントを選択できます"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-3",children:n.VK.map(e=>(0,t.jsxs)("label",{className:`flex items-center gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all ${h===e.value?"border-sage bg-sage/10":"border-border-light bg-white hover:border-sage/30"}`,children:[(0,t.jsx)("input",{type:"radio",name:"font",value:e.value,checked:h===e.value,onChange:e=>b(e.target.value),className:"sr-only"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"text-text-main font-medium mb-1",style:{fontFamily:e.value},children:"サンプルテキスト Sample Text"}),(0,t.jsx)("div",{className:"text-text-main/60 text-xs",children:e.label})]}),h===e.value&&(0,t.jsx)("span",{className:"material-symbols-outlined text-sage text-2xl",children:"check_circle"})]},e.value))})]}),(0,t.jsxs)("section",{className:"bg-surface rounded-2xl p-6 border border-border-light shadow-sm",children:[(0,t.jsxs)("h2",{className:"text-text-main text-lg font-bold mb-1 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"material-symbols-outlined text-sage",children:"palette"}),"カラーテーマ"]}),(0,t.jsxs)("p",{className:"text-text-main/70 text-sm mb-4",children:["ショップのカラーテーマを選択できます（",m.length,"種類）"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-3 max-h-96 overflow-y-auto pr-2",children:m.map(e=>(0,t.jsxs)("label",{className:`flex items-center gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all ${p.name===e.name?"border-sage bg-sage/10":"border-border-light bg-white hover:border-sage/30"}`,children:[(0,t.jsx)("input",{type:"radio",name:"theme",value:e.name,checked:p.name===e.name,onChange:()=>x(e),className:"sr-only"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg shadow-sm",style:{backgroundColor:e.primary}}),(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg shadow-sm",style:{backgroundColor:e.secondary}}),(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg shadow-sm",style:{backgroundColor:e.tertiary}}),(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg shadow-sm",style:{backgroundColor:e.quaternary}})]}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("div",{className:"text-text-main font-medium",children:e.label})}),p.name===e.name&&(0,t.jsx)("span",{className:"material-symbols-outlined text-sage text-2xl",children:"check_circle"})]},e.name))})]}),(0,t.jsx)("div",{className:"sticky bottom-20 z-10",children:(0,t.jsx)("button",{type:"submit",disabled:i,className:"w-full py-4 rounded-2xl bg-sage text-white font-bold text-lg shadow-lg hover:bg-sage-dark active:scale-98 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:i?(0,t.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{className:"material-symbols-outlined animate-spin",children:"progress_activity"}),"保存中..."]}):(0,t.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{className:"material-symbols-outlined",children:"save"}),"設定を保存"]})})})]})}},9840:(e,a,r)=>{"use strict";r.d(a,{B_:()=>o,OH:()=>n,VK:()=>t,wT:()=>i});let t=[{value:"Noto Sans JP",label:"Noto Sans JP（標準ゴシック）",category:"gothic"},{value:"Zen Maru Gothic",label:"Zen Maru Gothic（丸ゴシック）",category:"gothic"},{value:"M PLUS Rounded 1c",label:"M PLUS Rounded（可愛い丸ゴシック）",category:"gothic"},{value:"Kosugi Maru",label:"Kosugi Maru（やわらか丸ゴシック）",category:"gothic"},{value:"Zen Kaku Gothic New",label:"Zen Kaku Gothic（モダン角ゴシック）",category:"gothic"},{value:"Sawarabi Gothic",label:"Sawarabi Gothic（スッキリゴシック）",category:"gothic"},{value:"Shippori Mincho",label:"Shippori Mincho（和風明朝）",category:"mincho"},{value:"Zen Old Mincho",label:"Zen Old Mincho（伝統的明朝）",category:"mincho"},{value:"Poppins",label:"Poppins（モダン英字）",category:"english"},{value:"Playfair Display",label:"Playfair Display（エレガント）",category:"english"}],s=[{name:"warm-pastel",label:"ウォームパステル",primary:"#FFDCDC",secondary:"#FFF2EB",tertiary:"#FFE8CD",quaternary:"#FFD6BA"},{name:"cool-mint",label:"クールミント",primary:"#D4F1F4",secondary:"#B6E5E5",tertiary:"#A8DCD9",quaternary:"#8BCBCE"},{name:"lavender-dream",label:"ラベンダードリーム",primary:"#E8D5F2",secondary:"#F5E6FF",tertiary:"#DBC4E8",quaternary:"#C9B0D9"},{name:"peach-cream",label:"ピーチクリーム",primary:"#FFE5D0",secondary:"#FFF0E0",tertiary:"#FFD8B8",quaternary:"#FFC8A0"},{name:"sage-green",label:"セージグリーン",primary:"#D8E9D0",secondary:"#E8F3E5",tertiary:"#C8DFC0",quaternary:"#B8D5B0"},{name:"rose-gold",label:"ローズゴールド",primary:"#F8D7DA",secondary:"#FDE8EA",tertiary:"#F0C8CC",quaternary:"#E8B8BE"},{name:"sky-blue",label:"スカイブルー",primary:"#D0E8F5",secondary:"#E0F2FB",tertiary:"#C0DFEF",quaternary:"#B0D5E8"},{name:"lemon-sorbet",label:"レモンソルベ",primary:"#FFF8DC",secondary:"#FFFAED",tertiary:"#FFEECC",quaternary:"#FFE4B8"},{name:"urban-night",label:"アーバンナイト",primary:"#222831",secondary:"#393E46",tertiary:"#948979",quaternary:"#DFD0B8",isDark:!0},{name:"ocean-breeze",label:"オーシャンブリーズ",primary:"#F2EFE7",secondary:"#9ACBD0",tertiary:"#48A6A7",quaternary:"#006A71"},{name:"soft-romance",label:"ソフトロマンス",primary:"#9ECAD6",secondary:"#748DAE",tertiary:"#F5CBCB",quaternary:"#FFEAEA"},{name:"dreamy-purple",label:"ドリーミーパープル",primary:"#FFF2E0",secondary:"#C0C9EE",tertiary:"#A2AADB",quaternary:"#898AC4"},{name:"natural-earth",label:"ナチュラルアース",primary:"#F9F8F6",secondary:"#EFE9E3",tertiary:"#D9CFC7",quaternary:"#C9B59C"},{name:"nautical-gold",label:"ノーティカルゴールド",primary:"#F5EEDC",secondary:"#27548A",tertiary:"#183B4E",quaternary:"#DDA853"},{name:"fresh-garden",label:"フレッシュガーデン",primary:"#FFA725",secondary:"#FFF5E4",tertiary:"#C1D8C3",quaternary:"#6A9C89"},{name:"bold-contrast",label:"ボールドコントラスト",primary:"#FE7743",secondary:"#EFEEEA",tertiary:"#273F4F",quaternary:"#000000"},{name:"vintage-navy",label:"ヴィンテージネイビー",primary:"#F8F0E5",secondary:"#EADBC8",tertiary:"#DAC0A3",quaternary:"#0F2C59"}],l=s[0],n=t[0].value;function o(e){let a,r;return(r=parseInt((a=e.replace("#","")).substring(0,2),16),(299*r+587*parseInt(a.substring(2,4),16)+114*parseInt(a.substring(4,6),16))/1e3>128)?"#2C3E50":"#FFFFFF"}function i(e){if(!e||"object"!=typeof e)return l;if("string"==typeof e.primary&&"string"==typeof e.secondary&&"string"==typeof e.tertiary&&"string"==typeof e.quaternary){let a=e.primary,r=e.secondary,t=e.tertiary,l=e.quaternary,n=s.find(e=>e.primary.toLowerCase()===a.toLowerCase()&&e.secondary.toLowerCase()===r.toLowerCase()&&e.tertiary.toLowerCase()===t.toLowerCase()&&e.quaternary.toLowerCase()===l.toLowerCase());return n||{name:"custom",label:"カスタム",primary:a,secondary:r,tertiary:t,quaternary:l,isDark:"boolean"==typeof e.isDark&&e.isDark}}return l}}},e=>{e.O(0,[500,441,794,358],()=>e(e.s=850)),_N_E=e.O()}]);