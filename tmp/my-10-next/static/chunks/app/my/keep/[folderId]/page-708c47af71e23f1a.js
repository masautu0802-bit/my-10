(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{1995:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var a=s(5155),r=s(8500),l=s.n(r),n=s(3321);let i=[{href:"/",icon:"home",iconFilled:"home",label:"ホーム"},{href:"/search",icon:"search",label:"さがす"},{href:"/shop",icon:"storefront",label:"ショップ"},{href:"/my/keep",icon:"bookmark",iconFilled:"bookmark",label:"キープ"},{href:"/my",icon:"person",iconFilled:"person",label:"マイページ"}];function o(){let e=(0,n.usePathname)();return(0,a.jsxs)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-bgwarm border-t border-sage/10 pt-2 px-2 max-w-md mx-auto rounded-t-[2rem] shadow-[0_-5px_20px_rgba(162,178,159,0.08)]",children:[(0,a.jsx)("div",{className:"flex justify-around items-center h-16",children:i.map(t=>{let s="/my"===t.href?"/my"===e||e.startsWith("/my")&&!e.startsWith("/my/keep"):e===t.href||"/"!==t.href&&e.startsWith(t.href);return(0,a.jsxs)(l(),{href:t.href,className:`flex flex-col items-center justify-center gap-1 w-16 transition-colors group ${s?"text-sage":"text-gray-400 hover:text-sage"}`,children:[s&&(0,a.jsx)("span",{className:"absolute -top-0 w-8 h-1 bg-sage rounded-full"}),(0,a.jsx)("span",{className:"material-symbols-outlined text-[24px]",style:s?{fontVariationSettings:"'FILL' 1"}:void 0,children:t.icon}),(0,a.jsx)("span",{className:"text-[10px] font-medium",children:t.label})]},t.label)})}),(0,a.jsx)("div",{className:"h-[env(safe-area-inset-bottom)]"})]})}},3321:(e,t,s)=>{"use strict";var a=s(4645);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},3348:(e,t,s)=>{Promise.resolve().then(s.bind(s,3428)),Promise.resolve().then(s.bind(s,1995)),Promise.resolve().then(s.bind(s,7115))},3428:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var a=s(5155),r=s(3321);function l({className:e="",iconSize:t=20,icon:s="arrow_back_ios_new",style:l,iconStyle:n}){let i=(0,r.useRouter)();return(0,a.jsx)("button",{onClick:()=>i.back(),className:e||"flex size-10 items-center justify-center rounded-full bg-white shadow-sm hover:scale-105 transition-transform text-text-main border border-sage/50",style:l,"aria-label":"戻る",children:(0,a.jsx)("span",{className:"material-symbols-outlined",style:{fontSize:t,...n},children:s})})}},7115:(e,t,s)=>{"use strict";s.d(t,{default:()=>x});var a=s(5155),r=s(2115),l=s(8500),n=s.n(l),i=s(3321),o=s(9339);let c=(0,o.createServerReference)("6088ebc3022d157be78fe9c8e2878469315929053e",o.callServer,void 0,o.findSourceMapURL,"renameKeepFolder"),d=(0,o.createServerReference)("60781ce419200eb76a8cf4d58fdc2903cbc1c66bf3",o.callServer,void 0,o.findSourceMapURL,"removeItemFromKeepFolder"),m=(0,o.createServerReference)("40d8fc0c3790308a9411456b1c85f10f8921bcdca6",o.callServer,void 0,o.findSourceMapURL,"deleteKeepFolder");function x({folder:e}){let t=(0,i.useRouter)(),[s,l]=(0,r.useTransition)(),[o,x]=(0,r.useState)(!1),[u,h]=(0,r.useState)(e.name),[f,b]=(0,r.useState)(!1);function p(){if(!u.trim()||u.trim()===e.name){x(!1),h(e.name);return}l(async()=>{await c(e.id,u.trim()),x(!1)})}return(0,a.jsxs)("main",{className:"flex-1 overflow-y-auto pb-[var(--bottom-nav-safe)]",children:[(0,a.jsx)("div",{className:"px-4 py-3 flex items-center justify-between",children:o?(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,a.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),className:"flex-1 px-3 py-1.5 rounded-lg border border-gray-200 text-sm text-text-main focus:outline-none focus:border-sage focus:ring-1 focus:ring-sage",autoFocus:!0,maxLength:50,onKeyDown:t=>{"Enter"===t.key&&p(),"Escape"===t.key&&(x(!1),h(e.name))}}),(0,a.jsx)("button",{onClick:p,disabled:s,className:"px-3 py-1.5 rounded-lg text-xs font-semibold text-white bg-sage hover:bg-sage/90 transition-colors",children:"保存"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-xs text-text-main/50",children:[e.items.length,"件の商品"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("button",{onClick:()=>x(!0),className:"p-2 rounded-full hover:bg-white/50 transition-colors",title:"フォルダ名を変更",children:(0,a.jsx)("span",{className:"material-symbols-outlined text-[18px] text-text-main/50",children:"edit"})}),(0,a.jsx)("button",{onClick:()=>b(!0),className:"p-2 rounded-full hover:bg-white/50 transition-colors",title:"フォルダを削除",children:(0,a.jsx)("span",{className:"material-symbols-outlined text-[18px] text-coral/70",children:"delete"})})]})]})}),0===e.items.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-text-main/60",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-[48px] mb-4",children:"inventory_2"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:"商品がありません"})]}):(0,a.jsx)("div",{className:"px-4 grid grid-cols-2 gap-3",children:e.items.map(t=>(0,a.jsxs)("div",{className:"relative bg-white rounded-xl overflow-hidden shadow-soft border border-text-main/5",children:[(0,a.jsxs)(n(),{href:`/items/${t.id}`,children:[(0,a.jsx)("div",{className:"aspect-square bg-gray-100 overflow-hidden",children:t.image_url?(0,a.jsx)("img",{src:t.image_url,alt:t.name,className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200"})}),(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("h4",{className:"text-xs font-bold text-text-main truncate",children:t.name}),(0,a.jsx)("p",{className:"text-xs font-semibold text-text-main/70 mt-1",children:t.price_range||"価格未設定"}),t.shop_name&&(0,a.jsx)("p",{className:"text-[10px] text-text-main/40 mt-1 truncate",children:t.shop_name})]})]}),(0,a.jsx)("button",{onClick:()=>{var s;return s=t.id,void l(async()=>{await d(e.id,s)})},disabled:s,className:"absolute top-2 right-2 p-1.5 rounded-full bg-white/80 backdrop-blur-sm shadow-sm hover:bg-white transition-colors",title:"フォルダから削除",children:(0,a.jsx)("span",{className:"material-symbols-outlined text-[16px] text-coral/70",children:"close"})})]},t.id))}),f&&(0,a.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>b(!1)}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl p-6 mx-8 max-w-sm w-full shadow-xl",children:[(0,a.jsx)("h3",{className:"text-base font-bold text-text-main mb-2",children:"フォルダを削除しますか？"}),(0,a.jsxs)("p",{className:"text-sm text-text-main/60 mb-5",children:["「",e.name,"」を削除します。商品自体は削除されません。"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>b(!1),className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-text-main/60 bg-gray-100 hover:bg-gray-200 transition-colors",children:"キャンセル"}),(0,a.jsx)("button",{onClick:function(){l(async()=>{await m(e.id),t.push("/my")})},disabled:s,className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-white bg-coral hover:bg-coral/90 transition-colors disabled:opacity-50",children:s?"削除中...":"削除する"})]})]})]})]})}},9339:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={callServer:function(){return l.callServer},createServerReference:function(){return i.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}};for(var r in a)Object.defineProperty(t,r,{enumerable:!0,get:a[r]});let l=s(7304),n=s(4060),i=s(7197)}},e=>{e.O(0,[500,441,794,358],()=>e(e.s=3348)),_N_E=e.O()}]);