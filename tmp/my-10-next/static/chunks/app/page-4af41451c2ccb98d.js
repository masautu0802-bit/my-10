(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1995:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var a=s(5155),r=s(8500),l=s.n(r),i=s(3321);let o=[{href:"/",icon:"home",iconFilled:"home",label:"ホーム"},{href:"/search",icon:"search",label:"さがす"},{href:"/shop",icon:"storefront",label:"ショップ"},{href:"/my/keep",icon:"bookmark",iconFilled:"bookmark",label:"キープ"},{href:"/my",icon:"person",iconFilled:"person",label:"マイページ"}];function n(){let e=(0,i.usePathname)();return(0,a.jsxs)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-bgwarm border-t border-sage/10 pt-2 px-2 max-w-md mx-auto rounded-t-[2rem] shadow-[0_-5px_20px_rgba(162,178,159,0.08)]",children:[(0,a.jsx)("div",{className:"flex justify-around items-center h-16",children:o.map(t=>{let s="/my"===t.href?"/my"===e||e.startsWith("/my")&&!e.startsWith("/my/keep"):e===t.href||"/"!==t.href&&e.startsWith(t.href);return(0,a.jsxs)(l(),{href:t.href,className:`flex flex-col items-center justify-center gap-1 w-16 transition-colors group ${s?"text-sage":"text-gray-400 hover:text-sage"}`,children:[s&&(0,a.jsx)("span",{className:"absolute -top-0 w-8 h-1 bg-sage rounded-full"}),(0,a.jsx)("span",{className:"material-symbols-outlined text-[24px]",style:s?{fontVariationSettings:"'FILL' 1"}:void 0,children:t.icon}),(0,a.jsx)("span",{className:"text-[10px] font-medium",children:t.label})]},t.label)})}),(0,a.jsx)("div",{className:"h-[env(safe-area-inset-bottom)]"})]})}},2769:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var a=s(5155),r=s(2115),l=s(3321),i=s(5772);function o({shop:e}){let[t,s]=(0,r.useState)(!1),o=(0,r.useRef)(null),n=(0,r.useRef)(null),d=(0,r.useRef)(0),c=(0,l.useRouter)(),m=e.items.slice(0,3),x=e.items.slice(3,6),[g,b,u]=m,[h,f,p]=x;(0,r.useEffect)(()=>()=>{o.current&&clearTimeout(o.current)},[]),(0,r.useEffect)(()=>{if(!t)return;let e=()=>{if(!n.current)return;n.current.getBoundingClientRect();let e=window.scrollY;if(0===d.current){d.current=e;return}Math.abs(e-d.current)>50&&(s(!1),d.current=0)};return d.current=window.scrollY,window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e),d.current=0}},[t]);let v=(0,r.useCallback)(()=>{o.current?(clearTimeout(o.current),o.current=null,s(e=>!e)):o.current=setTimeout(()=>{o.current=null,c.push(`/shops/${e.id}`)},300)},[!0,c,e.id]);return(0,a.jsx)("div",{ref:n,className:"mb-5 select-none",style:{perspective:"1200px"},onClick:v,onDoubleClick:e=>e.preventDefault(),children:(0,a.jsxs)("div",{className:"relative cursor-pointer",style:{transformStyle:"preserve-3d",transition:"transform 0.7s cubic-bezier(0.4, 0.0, 0.2, 1)",transform:t?"rotateY(180deg)":"rotateY(0deg)"},children:[(0,a.jsxs)("div",{className:"relative flex flex-col rounded-3xl overflow-hidden",style:{backgroundColor:"white",boxShadow:"0 20px 40px -20px rgba(0,0,0,0.1)",backfaceVisibility:"hidden"},children:[(0,a.jsx)("div",{className:"px-4 py-3 bg-white/50 backdrop-blur-md",children:(0,a.jsx)("h4",{className:"font-serif font-bold text-base tracking-tight text-[#2a2a2a] truncate",children:e.name})}),(0,a.jsx)("div",{className:"px-2 pb-2",children:(0,a.jsxs)("div",{className:"relative w-full overflow-hidden rounded-2xl",children:[(0,a.jsx)("div",{className:"absolute inset-0 border-[8px] border-white/20 z-20 pointer-events-none rounded-2xl"}),(0,a.jsx)("div",{className:"absolute inset-0 border border-white/10 z-20 pointer-events-none rounded-2xl"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-1 aspect-[3/4]",children:[(0,a.jsx)("div",{className:"col-span-2 relative overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100",children:g?.image_url?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute inset-0 p-2",children:(0,a.jsx)(i.default,{src:g.image_url,alt:g.name,fill:!0,className:"object-contain",sizes:"(max-width: 768px) 45vw, 300px"})}),(0,a.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-gray-50/40 to-transparent"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-gray-100/40 to-transparent"}),(0,a.jsx)("div",{className:"absolute top-0 bottom-0 left-0 w-6 bg-gradient-to-r from-gray-50/30 to-transparent"}),(0,a.jsx)("div",{className:"absolute top-0 bottom-0 right-0 w-6 bg-gradient-to-l from-gray-50/30 to-transparent"})]})]}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200"})}),(0,a.jsxs)("div",{className:"col-span-1 grid grid-rows-2 gap-1",children:[(0,a.jsx)("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100",children:b?.image_url?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute inset-0 p-1.5",children:(0,a.jsx)(i.default,{src:b.image_url,alt:b.name,fill:!0,className:"object-contain",sizes:"(max-width: 768px) 22vw, 150px"})}),(0,a.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-4 bg-gradient-to-b from-gray-50/40 to-transparent"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-4 bg-gradient-to-t from-gray-100/40 to-transparent"}),(0,a.jsx)("div",{className:"absolute top-0 bottom-0 left-0 w-3 bg-gradient-to-r from-gray-50/30 to-transparent"}),(0,a.jsx)("div",{className:"absolute top-0 bottom-0 right-0 w-3 bg-gradient-to-l from-gray-50/30 to-transparent"})]})]}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200"})}),(0,a.jsx)("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100",children:u?.image_url?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute inset-0 p-1.5",children:(0,a.jsx)(i.default,{src:u.image_url,alt:u?.name??"",fill:!0,className:"object-contain",sizes:"(max-width: 768px) 22vw, 150px"})}),(0,a.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-4 bg-gradient-to-b from-gray-50/40 to-transparent"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-4 bg-gradient-to-t from-gray-100/40 to-transparent"}),(0,a.jsx)("div",{className:"absolute top-0 bottom-0 left-0 w-3 bg-gradient-to-r from-gray-50/30 to-transparent"}),(0,a.jsx)("div",{className:"absolute top-0 bottom-0 right-0 w-3 bg-gradient-to-l from-gray-50/30 to-transparent"})]})]}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200"})})]})]}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/5 via-transparent to-white/10 opacity-30 mix-blend-overlay z-10 pointer-events-none"})]})}),(0,a.jsx)("div",{className:"h-1 w-full bg-sage/10"})]}),(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col rounded-3xl overflow-hidden",style:{backgroundColor:"white",boxShadow:"0 20px 40px -20px rgba(0,0,0,0.1)",backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[(0,a.jsx)("div",{className:"px-4 py-3 bg-white/50 backdrop-blur-md",children:(0,a.jsx)("h4",{className:"font-serif font-bold text-base tracking-tight text-[#2a2a2a] truncate",children:e.name})}),(0,a.jsx)("div",{className:"px-2 pb-2",children:(0,a.jsxs)("div",{className:"relative w-full overflow-hidden rounded-2xl",children:[(0,a.jsx)("div",{className:"absolute inset-0 border-[8px] border-white/20 z-20 pointer-events-none rounded-2xl"}),(0,a.jsx)("div",{className:"absolute inset-0 border border-white/10 z-20 pointer-events-none rounded-2xl"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-1 aspect-[3/4]",children:[(0,a.jsx)("div",{className:"col-span-2 relative overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100",children:h?.image_url?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute inset-0 p-2",children:(0,a.jsx)(i.default,{src:h.image_url,alt:h.name,fill:!0,className:"object-contain",sizes:"(max-width: 768px) 45vw, 300px"})}),(0,a.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-gray-50/40 to-transparent"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-gray-100/40 to-transparent"}),(0,a.jsx)("div",{className:"absolute top-0 bottom-0 left-0 w-6 bg-gradient-to-r from-gray-50/30 to-transparent"}),(0,a.jsx)("div",{className:"absolute top-0 bottom-0 right-0 w-6 bg-gradient-to-l from-gray-50/30 to-transparent"})]})]}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200"})}),(0,a.jsxs)("div",{className:"col-span-1 grid grid-rows-2 gap-1",children:[(0,a.jsx)("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100",children:f?.image_url?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute inset-0 p-1.5",children:(0,a.jsx)(i.default,{src:f.image_url,alt:f.name,fill:!0,className:"object-contain",sizes:"(max-width: 768px) 22vw, 150px"})}),(0,a.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-4 bg-gradient-to-b from-gray-50/40 to-transparent"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-4 bg-gradient-to-t from-gray-100/40 to-transparent"}),(0,a.jsx)("div",{className:"absolute top-0 bottom-0 left-0 w-3 bg-gradient-to-r from-gray-50/30 to-transparent"}),(0,a.jsx)("div",{className:"absolute top-0 bottom-0 right-0 w-3 bg-gradient-to-l from-gray-50/30 to-transparent"})]})]}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200"})}),(0,a.jsx)("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100",children:p?.image_url?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute inset-0 p-1.5",children:(0,a.jsx)(i.default,{src:p.image_url,alt:p?.name??"",fill:!0,className:"object-contain",sizes:"(max-width: 768px) 22vw, 150px"})}),(0,a.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-4 bg-gradient-to-b from-gray-50/40 to-transparent"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-4 bg-gradient-to-t from-gray-100/40 to-transparent"}),(0,a.jsx)("div",{className:"absolute top-0 bottom-0 left-0 w-3 bg-gradient-to-r from-gray-50/30 to-transparent"}),(0,a.jsx)("div",{className:"absolute top-0 bottom-0 right-0 w-3 bg-gradient-to-l from-gray-50/30 to-transparent"})]})]}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200"})})]})]}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/5 via-transparent to-white/10 opacity-30 mix-blend-overlay z-10 pointer-events-none"})]})}),(0,a.jsx)("div",{className:"h-1 w-full bg-sage/10"})]})]})})}function n({initialShops:e,categories:t}){let[s,l]=(0,r.useState)(null),n=s?e.filter(e=>e.tags&&e.tags.includes(s)):e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"px-6 pt-6 pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-[#2a2a2a] tracking-tight",children:"見つける"}),s&&(0,a.jsxs)("button",{onClick:()=>l(null),className:"text-xs font-bold text-sage hover:text-sage/80 flex items-center gap-1 cursor-pointer transition-colors",children:["すべて見る",(0,a.jsx)("span",{className:"material-symbols-outlined text-xs",children:"close"})]})]}),(0,a.jsx)("div",{className:"flex gap-4 overflow-x-auto scrollbar-hide pb-3 -mx-6 px-6 snap-x",children:t.length>0?t.map(e=>(0,a.jsxs)("button",{onClick:()=>l(e.name),className:`snap-start shrink-0 w-[4.5rem] flex flex-col items-center gap-2 group cursor-pointer transition-all ${s===e.name?"scale-110":""}`,children:[(0,a.jsxs)("div",{className:`w-[4.5rem] h-[4.5rem] rounded-full p-0.5 bg-gradient-to-br ${e.gradient} relative transition-transform duration-300 group-hover:scale-105 ${s===e.name?"ring-4 ring-sage/30":""}`,children:[(0,a.jsx)("div",{className:"w-full h-full rounded-full border-2 border-white overflow-hidden bg-gray-200 shadow-lg relative",children:e.imageUrl?(0,a.jsx)(i.default,{src:e.imageUrl,alt:e.name,fill:!0,className:"object-cover",sizes:"72px"}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200"})}),e.badge&&(0,a.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 bg-coral text-white text-[9px] font-bold px-1.5 py-0.5 rounded-full border-2 border-white shadow-sm",children:e.badge})]}),(0,a.jsxs)("span",{className:`text-[10px] font-bold text-center transition-colors ${s===e.name?"text-sage":"text-[#2a2a2a]/70 group-hover:text-sage"}`,children:["#",e.name]})]},e.name)):(0,a.jsx)("div",{className:"w-full text-center py-4 text-text-main/60 text-xs",children:"まだタグが登録されていません"})})]}),(0,a.jsxs)("section",{className:"mt-2 px-3 pb-8 bg-[#FBF5ED] pt-6 rounded-t-3xl",children:[(0,a.jsxs)("div",{className:"mb-6 px-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-1.5 bg-sage/20 rounded-lg text-sage",children:(0,a.jsx)("span",{className:"material-symbols-outlined text-[18px]",children:"storefront"})}),(0,a.jsx)("h3",{className:"text-xl font-bold tracking-tight text-dark",children:s?`#${s}`:"Shops"}),s&&(0,a.jsxs)("span",{className:"text-xs text-text-main/60",children:["(",n.length,"件)"]})]}),(0,a.jsx)("p",{className:"text-[10px] text-text-main/40 mt-1.5 ml-11 font-medium",children:"\uD83D\uDCA1 カードをダブルクリックでさらに3商品表示"})]}),0===n.length?(0,a.jsxs)("div",{className:"text-center py-16 text-text-main/60",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-[48px] mb-4 block",children:"search_off"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:s?`「${s}」のショップが見つかりませんでした`:"まだショップがありません"})]}):(0,a.jsxs)("div",{className:"flex gap-2.5",children:[(0,a.jsx)("div",{className:"flex-1 flex flex-col",children:n.filter((e,t)=>t%2==0).map(e=>(0,a.jsx)(o,{shop:e},e.id))}),(0,a.jsx)("div",{className:"flex-1 flex flex-col pt-16",children:n.filter((e,t)=>t%2!=0).map(e=>(0,a.jsx)(o,{shop:e},e.id))})]})]})]})}},5772:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(7651),r=s.n(a)},7651:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={default:function(){return c},getImageProps:function(){return d}};for(var r in a)Object.defineProperty(t,r,{enumerable:!0,get:a[r]});let l=s(3623),i=s(5413),o=s(8437),n=l._(s(6095));function d(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let c=o.Image},8595:(e,t,s)=>{Promise.resolve().then(s.bind(s,1995)),Promise.resolve().then(s.bind(s,2769)),Promise.resolve().then(s.t.bind(s,8500,23))}},e=>{e.O(0,[500,645,441,794,358],()=>e(e.s=8595)),_N_E=e.O()}]);